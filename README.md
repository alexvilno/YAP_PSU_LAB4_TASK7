# Лабораторная работа 4, вариант 7, ПГНИУ ЯП МФТИ-1 2022

Решение всех задач оформить в виде одного класса со статическими методами, решающими поставленные задачи. В классе могут присутствовать методы со спецификатором доступа private вспомогательного характера.

## Задание 1. Бинарные файлы, содержащие числовые данные. 

Найти разность максимального и минимального элементов заданного файла.
Для заполнения файла случайными числами использована вспомогательная функция ```private static void FillRandomNumbers(string path, int n);```
Для чтения и записи в соответствии с заданием используются классы ```BinaryReader```  и ```BinaryWriter```, позволяющие считать/записать поток в бинарный файл. Исключения обрабатываются по следующему принципу:
```c#
try
{
    fin = new BinaryReader(File.OpenRead(read_path)); //пробуем открыть файл для чтения
    fout = new BinaryWriter(File.Open(write_path, FileMode.OpenOrCreate)); //пробуем открыть файл для записи
}
catch
{
    throw new Exception("Smth went wrong"); //Если что-то не так...
}
``` 
Такая обрабока будет использована во всех последующих задачах.

Решение этой задачи очень простое, просто разность максимального и минимального элементов массива
```c#
Console.WriteLine(arr.Max() - arr.Min());
fout.Write(arr.Max()-arr.Min());
```
Вывод:
```
ЗАДАНИЕ 1
Данные из файла: 26 48 -22 104 82 21 84 -116 68 104 
Разность максимального и минимального элементов файла равна: = 220
--------------------------------------------------------------------------------
```

## Задание 2. Скопировать элементы заданного файла в квадратную матрицу размером n×n . Заменить на нуль все вхождения максимального элемента.

Для вывода матрицы написана вспомагательная функция ```private static void MatrixOutput(ref double[,] matrix);``` и функция, генерирующая *n* случайных чисел(в диапазоне -128,128), записывающая их в бинарный файл ```FillRandomNumbers(read_path, n); ```

Здесь исключается ситуация, когда число элементов больше корня из размерности матрицы. 
```C#
if (matrix_n < (int)(Math.Sqrt(n)))
{
    throw new Exception("n can not be more than matrix n^2");
}
```
Ищется максимальный элемент(ы) в марице: 
```C#
for (int i = 0, c = 0; i < matrix_n; ++i)
{
    for (int j = 0; j < matrix_n; ++j, ++c)
    {
        if (c < n)
        {
            double temp = fin.ReadDouble();
            matrix[i, j] = temp;
            if (max < temp)
            {
                max = temp;
            }
        }
    }
}
```

и он(и) заменяется на ноль. Далее матрица выводится с помощью функции ```MatrixOutput``` на экран и матрица записывается в файл.
Вывод:
```
ЗАДАНИЕ 2
Исходная матрица: 
-107    88      -59     22
33      78      127     -120
20      -124    22      125
0       0       0       0

Преобразованная матрица: 
-107    88      -59     22
33      78      0       -120
20      -124    22      125
0       0       0       0

--------------------------------------------------------------------------------
```

Как мы видим, элемент 127 заменился на 0.
